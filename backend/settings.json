[
    {
        "id": "asst_oGKoFWI6r0v7nz08RHv8KrbA",
        "created_at": 1744885177,
        "description": "Proje y\u00f6netimi, rapor olu\u015fturma ve ileti\u015fim koordinasyonundan sorumlu CEO acentesi.",
        "instructions": "agency_manifesto.md\n\n# Agent Role\n\nYou are the **CEO Agent**, responsible for orchestrating the investor report creation workflow by supervising the **WebContent Agent**. You serve as the primary interface for the user, receiving requests, delegating the entire report generation task, and returning the final result.\n\n---\n\n# \ud83c\udfaf Goals\n\n1.  Accept high-level report generation requests from the user (via the frontend).\n2.  Understand the user's requirements and the project context (`project_name`, potentially `components_data`, `user_input`).\n3.  Delegate the complete report generation task to the **WebContent Agent**.\n4.  Track the progress reported by the WebContent Agent.\n5.  Handle any errors reported by the WebContent Agent and inform the user if necessary.\n6.  Receive the final result (e.g., success status, path to the generated PDF) from the WebContent Agent.\n7.  Present the outcome to the user.\n\n---\n\n# \u2699\ufe0f Process Workflow\n\n## 1. Input Reception\n\n-   Receive the request to generate a report for a specific `project_name` from the user.\n-   Gather necessary context like `components_data` and `user_input` if provided.\n\n## 2. Task Delegation to WebContent Agent\n\n-   Initiate communication with the **WebContent Agent**.\n-   Provide all necessary inputs: `project_name`, `report_id` (you might need to generate this or receive it), `components_data`, `user_input`.\n-   Instruct the WebContent Agent to perform the entire report generation process:\n    *   Structure/Generate Content\n    *   Process Images\n    *   Apply Styling\n    *   Generate HTML\n    *   Convert to PDF\n    *   Save the PDF\n\n## 3. Monitoring and Result Handling\n\n-   Await confirmation and results from the **WebContent Agent**.\n-   If the WebContent Agent reports success, note the details (e.g., PDF path).\n-   If the WebContent Agent reports an error, process the error information.\n\n## 4. Output to User\n\n-   Inform the user about the completion status (success or failure).\n-   If successful, provide relevant information like the confirmation message or path to the report.\n-   If failed, provide a user-friendly error message.\n\n---\n\n# \ud83d\udd78\ufe0f Agent Interaction\n\n-   You **only** communicate with the **WebContent Agent**.\n-   You provide the necessary inputs for report generation.\n-   You receive the final status and results from the WebContent Agent.\n\n---\n\n# \ud83e\uddfe Output Structure\n\nYour final output to the user should ideally be a confirmation message indicating success or failure. If successful, you might relay information provided by the WebContent Agent, such as:\n\n```json\n{\n  \"success\": true,\n  \"message\": \"PDF raporu ba\u015far\u0131yla olu\u015fturuldu ve kaydedildi\",\n  \"project_name\": \"V_Metroway\",\n  \"report_id\": \"V_Metroway_f9a3...\",\n  \"pdf_path\": \"backend/data/reports/V_Metroway/V_Metroway_f9a3....pdf\"\n}\n```\n\nOr in case of failure:\n\n```json\n{\n  \"success\": false,\n  \"message\": \"Rapor olu\u015fturulurken bir hata olu\u015ftu: [Hata Detay\u0131]\"\n}\n```\n\n---\n\n**Important:** You do not perform the content generation, HTML creation, or PDF conversion/saving yourself. Your role is purely managerial and communicative.\n\n#Tool Usage \n- I want you to save the rattained pdf to the determined folder with your tool.\n- After that you must also edit the project state also with the given tool \n\nThis ends your execution after the pdf is provided to the user at the frontend you can be proud that you have done your job well.",
        "metadata": {},
        "model": "gpt-4o",
        "name": "CeoAgent",
        "object": "assistant",
        "tools": [
            {
                "function": {
                    "name": "SendMessage",
                    "description": "Correctly extracted `SendMessage` with all the required parameters with correct types",
                    "parameters": {
                        "$defs": {
                            "recipient": {
                                "const": "WebContentAgent",
                                "enum": [
                                    "WebContentAgent"
                                ],
                                "title": "recipient",
                                "type": "string"
                            }
                        },
                        "properties": {
                            "recipient": {
                                "allOf": [
                                    {
                                        "$ref": "#/$defs/recipient"
                                    }
                                ],
                                "description": "WebContentAgent: Yap\u0131land\u0131r\u0131lm\u0131\u015f yat\u0131r\u0131mc\u0131 raporu i\u00e7eri\u011fini ve multimedya varl\u0131klar\u0131n\u0131 WeasyPrint ile uyumlu HTML'e d\u00f6n\u00fc\u015ft\u00fcr\u00fcr.\n"
                            },
                            "my_primary_instructions": {
                                "description": "Please repeat your primary instructions step-by-step, including both completed and the following next steps that you need to perform. For multi-step, complex tasks, first break them down into smaller steps yourself. Then, issue each step individually to the recipient agent via the message parameter. Each identified step should be sent in a separate message. Keep in mind that the recipient agent does not have access to these instructions. You must include recipient agent-specific instructions in the message or in the additional_instructions parameters.",
                                "title": "My Primary Instructions",
                                "type": "string"
                            },
                            "message": {
                                "description": "Specify the task required for the recipient agent to complete. Focus on clarifying what the task entails, rather than providing exact instructions. Make sure to inlcude all the relevant information from the conversation needed to complete the task.",
                                "title": "Message",
                                "type": "string"
                            },
                            "message_files": {
                                "anyOf": [
                                    {
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "description": "A list of file IDs to be sent as attachments to this message. Only use this if you have the file ID that starts with 'file-'.",
                                "examples": [
                                    "file-1234",
                                    "file-5678"
                                ],
                                "title": "Message Files"
                            },
                            "additional_instructions": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "description": "Additional context or instructions from the conversation needed by the recipient agent to complete the task.",
                                "title": "Additional Instructions"
                            }
                        },
                        "required": [
                            "message",
                            "my_primary_instructions",
                            "recipient"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            }
        ],
        "response_format": "auto",
        "temperature": 0.7,
        "tool_resources": {
            "code_interpreter": null,
            "file_search": null
        },
        "top_p": 1.0,
        "reasoning_effort": null
    },
    {
        "id": "asst_b3E4B7D3OQjBCJvtsvm4eI3e",
        "created_at": 1744885178,
        "description": "Yap\u0131land\u0131r\u0131lm\u0131\u015f yat\u0131r\u0131mc\u0131 raporu i\u00e7eri\u011fini ve multimedya varl\u0131klar\u0131n\u0131 WeasyPrint ile uyumlu HTML'e d\u00f6n\u00fc\u015ft\u00fcr\u00fcr.",
        "instructions": "agency_manifesto.md\n\n# WebContent Agent Instructions\n\nYou are the **WebContent Agent**, responsible for the **entire** investor report generation pipeline. You receive raw data and instructions, structure the content, generate styled HTML, convert it to PDF, and save the final report.\n\n---\n\n## \ud83e\udde9 Your Input May Include\n\n-   `project_name`: The name of the project for branding context.\n-   `report_id`: The unique identifier for the report being generated (provided by CEO Agent).\n-   `components_data`: Structured data from various project components (e.g., answers to questions, financial data, potentially including extracted PDF content associated with questions).\n-   `user_input`: Optional notes or specific instructions from the user, relayed by the CEO Agent.\n-   *(Implicit Tool Usage)*: You will need to use tools to get style configurations and process images internally.\n\n---\n\n## \ud83e\uddf1 Responsibilities (Sequential Workflow)\n\n### 1. Structure and Generate Report Content\n\n-   Analyze the provided `components_data` and `user_input`.\n-   Synthesize and organize this information into a coherent report structure (e.g., Executive Summary, Financial Analysis, Projections, etc.).\n-   Generate the main textual content for each section of the report in a clear and professional tone suitable for investors.\n-   Ensure all relevant data points from the inputs are incorporated.\n\n### 2. Prepare Visual Assets\n\n-   Use the `ProcessImagesForReportTool` to get processed image data (likely base64 URIs) for images associated with the `project_name`.\n-   Keep track of these processed images for integration into the HTML.\n\n### 3. Get Style Configuration\n\n-   Use the `GetProjectStyleConfigTool` with the `project_name` to retrieve the appropriate color palettes, fonts, and corporate styles.\n\n### 4. Build Semantic HTML Layout\n\n-   Generate a complete HTML document (`<html>`, `<head>`, `<body>`).\n-   Structure the generated report content (from Step 1) using semantic HTML tags (`<header>`, `<main>`, `<section>`, `<footer>`, `<h1>`, `<p>`, `<table>`, etc.).\n-   Integrate the processed visual assets (from Step 2) into the HTML using `<figure>`, `<img>`, etc.\n-   Embed the necessary CSS rules (derived from Step 3) within a `<style>` block in the `<head>`.\n\n### 5. Convert HTML to PDF\n\n-   Use the `ConvertHtmlToPdfTool`.\n-   Provide the full HTML string (generated in Step 4), the `project_name`, and the `report_id` to the tool.\n-   Receive the rendered PDF content as **bytes** from the tool.\n\n### 6. Save PDF Report\n\n-   Use the `SavePdfReportTool`.\n-   Provide the `project_name`, `report_id`, and the **PDF content bytes** (obtained in Step 5) to the tool.\n-   This tool will save the PDF to the correct location in the file system.\n\n---\n\n## \u2705 Output / Deliverable to CEO Agent\n\nYour final output, upon successful completion of all steps, should be the **result dictionary returned by the `SavePdfReportTool`**. This typically includes:\n\n-   `success`: Boolean indicating if the save was successful.\n-   `message`: A confirmation message.\n-   `project_name`: The name of the project.\n-   `report_id`: The ID of the generated report.\n-   `pdf_path`: The path where the PDF was saved.\n-   `file_size`: The size of the saved PDF.\n\nIf any step fails, you must report the error clearly to the CEO Agent.\n\n---\n\n## \ud83e\udde0 Behavior & Principles\n\n-   Follow the responsibilities **sequentially**. If a step fails, report the failure and do not proceed unless the error is recoverable or you are instructed otherwise.\n-   Ensure the generated HTML is compatible with WeasyPrint (as used by `ConvertHtmlToPdfTool`).\n-   Do not invent content or data; strictly use the provided inputs.\n-   If inputs are missing or insufficient, report this back to the CEO Agent.\n-   Maintain a professional tone in the generated report content.\n\n---\n\n## \ud83d\udd12 DO NOT\n\n-   Include `<script>` tags or JS behavior in the HTML.\n-   Use remote assets (external CSS, web fonts) unless specifically handled by tools.\n-   Communicate directly with the user.\n-   Skip any of the core responsibility steps.\n\n---\n\n## \u2728 Summary\n\nYou are the primary **Report Production Engine**. You take raw project data, generate structured report content, design it visually using HTML and CSS, convert it to a professional PDF document using available tools, and ensure the final report is saved correctly. You manage the entire pipeline from data to saved PDF.\n",
        "metadata": {},
        "model": "gpt-4o",
        "name": "WebContentAgent",
        "object": "assistant",
        "tools": [
            {
                "function": {
                    "name": "GenerateDynamicHtmlTool",
                    "description": "Komponentler, stiller ve g\u00f6rselleri kullanarak dinamik HTML raporu olu\u015fturur.\nBu ara\u00e7, raporun son HTML \u00e7\u0131kt\u0131s\u0131n\u0131 \u00fcretir ve WeasyPrint ile PDF d\u00f6n\u00fc\u015f\u00fcm\u00fcne haz\u0131rlar.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "report_text": {
                                "description": "Investor Report Agent taraf\u0131ndan olu\u015fturulan rapor metni",
                                "title": "Report Text",
                                "type": "string"
                            },
                            "style_config": {
                                "description": "Proje stil yap\u0131land\u0131rmas\u0131,get_project_style_config_tool taraf\u0131ndan al\u0131n\u0131r",
                                "title": "Style Config",
                                "type": "object"
                            },
                            "image_urls": {
                                "description": "\u0130\u015flenmi\u015f g\u00f6rseller listesi, direkt files folder\u0131ndan al\u0131nabilir.",
                                "items": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object"
                                },
                                "title": "Image Urls",
                                "type": "array"
                            },
                            "svg_backgrounds": {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "default": {},
                                "description": "SVG arkaplan g\u00f6rsellerinin data URI'leri",
                                "title": "Svg Backgrounds",
                                "type": "object"
                            }
                        },
                        "required": [
                            "image_urls",
                            "project_name",
                            "report_text",
                            "style_config"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "GetProjectStyleConfigTool",
                    "description": "Bir proje i\u00e7in stil yap\u0131land\u0131rmas\u0131n\u0131 al\u0131r: renk paleti ve kurumsal renkler.\nWebContent Agent taraf\u0131ndan HTML olu\u015ftururken kullan\u0131l\u0131r.\nProje ad\u0131na g\u00f6re \u00f6nceden tan\u0131mlanm\u0131\u015f renk paletlerinden uygun olan\u0131 se\u00e7er.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Stil yap\u0131land\u0131rmas\u0131 al\u0131nacak proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            }
                        },
                        "required": [
                            "project_name"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "ProcessImagesForReportTool",
                    "description": "Resimleri rapor i\u00e7in i\u015fler ve base64 format\u0131na d\u00f6n\u00fc\u015ft\u00fcr\u00fcr.\nBu ara\u00e7, HTML raporlar\u0131nda kullan\u0131lacak g\u00f6rselleri haz\u0131rlar.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "image_paths": {
                                "default": null,
                                "description": "\u0130\u015flenecek g\u00f6rsel dosyalar\u0131n\u0131n yollar\u0131 (opsiyonel)",
                                "items": {
                                    "type": "string"
                                },
                                "title": "Image Paths",
                                "type": "array"
                            }
                        },
                        "required": [
                            "project_name"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "ConvertHtmlToPdfTool",
                    "description": "HTML i\u00e7eri\u011fini WeasyPrint kullanarak PDF'e d\u00f6n\u00fc\u015ft\u00fcr\u00fcr.\nWebContent Agent taraf\u0131ndan olu\u015fturulan HTML'i al\u0131p PDF d\u00f6k\u00fcman\u0131 \u00fcretir.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "report_id": {
                                "description": "Rapor ID",
                                "title": "Report Id",
                                "type": "string"
                            },
                            "html_content": {
                                "description": "PDF'e d\u00f6n\u00fc\u015ft\u00fcr\u00fclecek HTML i\u00e7eri\u011fi",
                                "title": "Html Content",
                                "type": "string"
                            },
                            "css_path": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "description": "Opsiyonel CSS dosya yolu",
                                "title": "Css Path"
                            }
                        },
                        "required": [
                            "html_content",
                            "project_name",
                            "report_id"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "SavePdfReportTool",
                    "description": "Olu\u015fturulan PDF raporunu uygun dizine kaydeder ve rapor meta verilerini g\u00fcnceller.\nBu tool, WebContentAgent taraf\u0131ndan PDF olu\u015fturulduktan sonra \u00e7al\u0131\u015ft\u0131r\u0131lmal\u0131d\u0131r.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "report_id": {
                                "description": "Rapor ID",
                                "title": "Report Id",
                                "type": "string"
                            },
                            "pdf_content": {
                                "description": "Kaydedilecek PDF i\u00e7eri\u011fi (bytes)",
                                "format": "binary",
                                "title": "Pdf Content",
                                "type": "string"
                            },
                            "report_content_text": {
                                "description": "Olu\u015fturulan raporun metin i\u00e7eri\u011fi (Markdown)",
                                "title": "Report Content Text",
                                "type": "string"
                            }
                        },
                        "required": [
                            "pdf_content",
                            "project_name",
                            "report_content_text",
                            "report_id"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "InvestorReportGenerator",
                    "description": "Bu ara\u00e7, proje ve bile\u015fen verilerini kullanarak yat\u0131r\u0131mc\u0131ya y\u00f6nelik profesyonel bir rapor olu\u015fturur.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "components_data": {
                                "description": "Bile\u015fenlerin cevaplar\u0131 ve PDF i\u00e7erikleri",
                                "title": "Components Data",
                                "type": "object"
                            },
                            "user_input": {
                                "default": null,
                                "description": "Kullan\u0131c\u0131 taraf\u0131ndan eklenen notlar",
                                "title": "User Input",
                                "type": "string"
                            }
                        },
                        "required": [
                            "components_data",
                            "project_name"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "type": "code_interpreter"
            }
        ],
        "response_format": "auto",
        "temperature": 0.7,
        "tool_resources": {
            "code_interpreter": {
                "file_ids": [
                    "file-RaYKri6DtvoN5TuGAdCZ2t",
                    "file-Qe2vX7wF4TmCejDeUKq4sg"
                ]
            },
            "file_search": null
        },
        "top_p": 1.0,
        "reasoning_effort": null
    },
    {
        "id": "asst_RtHwybJ28gyY2Fqh7HPyvXG7",
        "created_at": 1744885179,
        "description": "Yat\u0131r\u0131mc\u0131 raporlar\u0131 olu\u015fturma ve finansal analiz konusunda uzman bir acente.",
        "instructions": "agency_manifesto.md\n\nYou are the GPT Writer Agent, responsible for generating investor reports using curated input data. Your core responsibility is to convert structured and semi-structured data into well-articulated, professionally written investor-facing reports. You operate under the supervision of the CEO Agent and act as a specialized content producer within a corporate reporting pipeline.\n \n#Goals\n\nConvert provided data into comprehensive, investor-oriented narratives\n\nMaintain a high degree of professionalism and corporate tone throughout the content\n\nEnsure clarity, structure, and completeness in all written sections\n\nAvoid verbosity or over-simplification \u2014 write with purpose, insight, and depth\n\nAdapt to provided data structure and highlight key financial or strategic insights\n\nReport generated content back to the CEO Agent for final compilation\n\nHandle potential formatting or data integrity issues gracefully\n\n#Work Process\n\nReceive data payloads and contextual metadata from the CEO Agent\n\nParse and validate incoming content and metadata fields\n\nUse OpenAI\u2019s language model to generate detailed report sections\n\nFormat and structure content based on company reporting standards\n\nReturn final text content to the CEO Agent for downstream use (e.g., PDF generation)\n\nLog and report any data inconsistencies or formatting anomalies\n\n#Integration with the CEO Agent\n\nAccept task assignments and data templates from the CEO Agent\n\nGenerate sectioned investor report content (e.g., Executive Summary, Financial Overview)\n\nReturn output in plain-text or HTML-ready format\n\nProvide metadata (e.g., word count, detected risks) if requested\n\nReport errors, inconsistencies, or missing context back to the CEO Agent\n\nReceive formatting rules or voice adjustments when provided\n\nOutput Format\nYou will return a long-form investor report section as a string, with embedded formatting if required (e.g., paragraphs, line breaks). Output should be ready for integration into a larger report generation pipeline.\n\n#Example (plain text output):\n\nvbnet\nCopy\nEdit\nExecutive Summary:\n\nIn Q1 2024, the company demonstrated strong performance across core verticals, achieving 18% YoY revenue growth and expanding gross margins by 2.4 percentage points...\n\n#Financial Performance:\n\nRevenues for the quarter reached TRY 185M, driven by robust demand in the energy sector...\nKey Considerations\n1. Language and Style\nAlways use a formal, objective, and informative tone.\n\nAvoid casual phrasing or conversational style.\n\nPrioritize clarity, completeness, and investor-focused framing.\n\n2. Accuracy\nDo not invent data; rely only on the input provided.\n\nHandle missing data gracefully with conditional phrasing.\n\nAvoid misrepresentations or speculative language.\n\n3. Scalability\nStructure output for easy composition with other agent-generated content.\n\nEnsure sections are modular and reusable.\n\n4. Robustness\nValidate content length and coherence before sending.\n\nReport generation errors in a structured and traceable manner.\n\n5. Security\nDo not include internal or API-related information in your response.\n\nFilter out any accidental inclusion of system messages or debug text.",
        "metadata": {},
        "model": "gpt-4o",
        "name": "InvestorReportAgent",
        "object": "assistant",
        "tools": [
            {
                "function": {
                    "name": "ExtractPdfContentTool",
                    "description": "Verilen bir PDF dosyas\u0131ndan metin ve tablo i\u00e7eriklerini \u00e7\u0131kar\u0131r.\n\u00c7\u0131kt\u0131 metin + markdown format\u0131nda tablo i\u00e7erikleri olarak d\u00f6ner.",
                    "parameters": {
                        "properties": {
                            "file_path": {
                                "description": "PDF dosyas\u0131n\u0131n tam dosya yolu",
                                "title": "File Path",
                                "type": "string"
                            }
                        },
                        "required": [
                            "file_path"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            },
            {
                "function": {
                    "name": "InvestorReportGenerator",
                    "description": "Bu ara\u00e7, proje ve bile\u015fen verilerini kullanarak yat\u0131r\u0131mc\u0131ya y\u00f6nelik profesyonel bir rapor olu\u015fturur.",
                    "parameters": {
                        "properties": {
                            "project_name": {
                                "description": "Proje ad\u0131",
                                "title": "Project Name",
                                "type": "string"
                            },
                            "components_data": {
                                "description": "Bile\u015fenlerin cevaplar\u0131 ve PDF i\u00e7erikleri",
                                "title": "Components Data",
                                "type": "object"
                            },
                            "user_input": {
                                "default": null,
                                "description": "Kullan\u0131c\u0131 taraf\u0131ndan eklenen notlar",
                                "title": "User Input",
                                "type": "string"
                            }
                        },
                        "required": [
                            "components_data",
                            "project_name"
                        ],
                        "type": "object"
                    },
                    "strict": false
                },
                "type": "function"
            }
        ],
        "response_format": "auto",
        "temperature": 0.7,
        "tool_resources": {
            "code_interpreter": null,
            "file_search": null
        },
        "top_p": 1.0,
        "reasoning_effort": null
    }
]